
---

## Phase 1 - Setup

### Step 1.1 - Ask project type

Use `AskUserQuestion`:
- question: "What type of project is this?"
- header: "Project type"
- options:
  - label: "Single Repo"
    description: "One language/concern, personal projects, libraries, single-service apps"
  - label: "Monorepo"
    description: "Multiple parts (api, frontend, infra), multi-team, multiple package.json"

### Step 1.2 - Identify parts (MONOREPO only)

Skip this step for single repo.

Do NOT scan or auto-detect parts. Simply output this message and wait for the user to type their answer:

```
List your monorepo parts (one path per line), e.g.:
  apps/api
  apps/web
  packages/infra
```

The user will type the paths. Store the confirmed parts list for use in `Step 1.4` and all agents. Part name is inferred from the last path segment (e.g. `apps/api` â†’ `api`).

### Step 1.3 - Ask which docs to SKIP

All docs are generated by default. The skip list is the same for both project types. Display the numbered list below and ask the user to type which numbers to skip.

```
All docs below are generated by default. Type numbers to skip (e.g. "1,3") or press enter to keep all:

1. concepts.md       - domain glossary
2. repo/             - structure, tooling, local-setup, cicd
3. db.md             - data model, migrations, caching
4. rules.md          - principles, conventions, anti-patterns
5. integrations.md   - 3rd party service integrations
6. testing.md        - test frameworks, patterns, coverage
7. guides/           - how-to docs, recipes
8. features/         - one doc per feature
```

NOTE: overview.md and architecture.md are ALWAYS generated (not listed).
NOTE: For monorepo, items 3-7 (db, rules, integrations, testing, guides) are generated per-part instead of at root.
The full list of docs to generate = all docs MINUS whatever the user skipped.
If user presses enter (skips nothing): all docs are generated (most common case).

### Step 1.4 - Save state

Write `.docs-state.tmp`:
```
phase: 2
type: {monorepo|single}
parts: {comma-separated paths, e.g. apps/api,apps/web - empty for single repo}
docs: {comma-separated list of selected docs}
```

Tell the user: "Setup complete. Selected {N} doc types for {type} project. Launching discovery agents..."

Proceed to `## Phase 2`.
